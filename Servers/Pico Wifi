import network
import time

def connect_to_wifi(ssid, password):
    wlan = network.WLAN(network.STA_IF)
    wlan.active(True)
    wlan.connect(ssid, password)

    while not wlan.isconnected():
        time.sleep(1)
        print("Connecting to WiFi...")

    print("Connected:", wlan.ifconfig())
    return wlan

# connect_to_wifi("YourSSID", "YourPassword")
